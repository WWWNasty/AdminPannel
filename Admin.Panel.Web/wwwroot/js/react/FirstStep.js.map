{"version":3,"sources":["../../../ReactApp/src/FirstStep.tsx"],"names":["FirstStep","props","useStyles","makeStyles","theme","createStyles","root","margin","spacing","width","classes","openAlertGreen","setOpenAlertGreen","React","useState","openAlertRed","setOpenAlertRed","form","useFormContext","handleSubmit","selectedCompany","watch","availableObjectTypes","selectOptionsTypes","filter","type","companyId","onChange","setValue","handleClose","message","value","selectOptionsСompanies","setObjectTypes"],"mappings":"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","sourcesContent":["const FirstStep = (props) => {\r\n    \r\n    const useStyles = makeStyles((theme: any) =>\r\n        createStyles({\r\n            root: {\r\n                '& .MuiTextField-root': {\r\n                    margin: theme.spacing(1),\r\n                    width: 200,\r\n                },\r\n            },\r\n        }),\r\n    );\r\n    const classes = useStyles();\r\n    const [openAlertGreen, setOpenAlertGreen] = React.useState(false);\r\n    const [openAlertRed, setOpenAlertRed] = React.useState(false);\r\n    const form = useFormContext();\r\n    const { handleSubmit } = form;\r\n    const selectedCompany = form.watch('companyId');\r\n    const availableObjectTypes = props.selectOptionsTypes.filter(type => type.companyId == selectedCompany)\r\n    const onChange = () => form.setValue('objectTypeId', null);\r\n    \r\n    const handleClose = () => {\r\n        setOpenAlertGreen(false);\r\n        setOpenAlertRed(false);\r\n    };\r\n    return (\r\n        <div>\r\n            <form className={classes.root} autoComplete=\"off\">\r\n                <MySelect required={ {message: '', value: true} }\r\n                          selectOptions={props.selectOptionsСompanies}\r\n                          form={form}\r\n                          onChange={onChange}\r\n                          name=\"companyId\"\r\n                          nameSwlect=\"Выберите компанию\"\r\n                />\r\n                <MySelect required \r\n                          name=\"objectTypeId\" \r\n                          selectOptions={availableObjectTypes} \r\n                          form={form}\r\n                          nameSwlect=\"Выберите тип объекта\"\r\n                />\r\n            </form>\r\n            <div>\r\n                <FormDialogObjectType\r\n                    form={form}\r\n                    setOpenAlertRed={setOpenAlertRed}\r\n                    setOpenAlertGreen={setOpenAlertGreen}\r\n                    setObjectTypes={props.setObjectTypes}\r\n                    selectOptionsTypes={props.selectOptionsTypes}\r\n                    selectOptions={props.selectOptionsСompanies}\r\n                />\r\n            </div>\r\n\r\n            <Snackbar open={openAlertGreen} autoHideDuration={6000} onClose={handleClose}>\r\n                <div className=\"alert alert-success\" role=\"alert\">\r\n                    Тип объектов успешно создан!\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </Snackbar>\r\n\r\n            <Snackbar open={openAlertRed} autoHideDuration={6000} onClose={handleClose}>\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    Произошла ошибка, тип объекта не создан!\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}"],"file":"FirstStep.js"}