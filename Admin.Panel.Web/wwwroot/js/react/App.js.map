{"version":3,"sources":["../../../ReactApp/src/App.tsx"],"names":["colors","CssBaseline","ThemeProvider","Typography","Container","makeStyles","createMuiTheme","Box","SvgIcon","Link","Stepper","Step","StepButton","Button","InputLabel","FormControl","FormHelperText","Select","MenuItem","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","Input","Chip","Checkbox","ListItemText","ListSubheader","DialogActions","Card","CardContent","CardActions","FormControlLabel","Icon","List","ListItem","ListItemIcon","IconButton","ListItemSecondaryAction","RootRef","Switch","Accordion","AccordionSummary","AccordionDetails","Theme","createStyles","FormGroup","Slide","StepLabel","Collapse","Snackbar","MaterialUI","DragDropContext","Draggable","Droppable","ReactBeautifulDnd","useState","React","useForm","Controller","useFormContext","FormProvider","useFieldArray","ReactHookForm","console","log","useStyles","theme","root","width","button","marginRight","spacing","backButton","completed","display","instructions","marginTop","marginBottom","getSteps","getStepContent","step","form","questionary","objectTypes","setObjectTypes","companies","setCompanies","selectableAnswersLists","setSelectableAnswersLists","questionaryInputFieldTypes","setQuestionaryInputFieldTypes","selectableAnswers","setSelectableAnswers","useEffect","getSelectOptions","response","fetch","method","headers","credentials","ok","json","selectOptions","objTypes","questionaryObjectTypes","applicationCompanies","map","company","id","companyId","name","companyName","answersList","inputFieldTypes","answers","answer","answerText","selectableAnswersListId","selectedObjectTypeId","watch","selectedObjectype","find","ot","HorizontalLabelPositionBelowStepper","props","classes","activeStep","setActiveStep","steps","handleSubmit","handleNext","onSuccess","data","clearErrors","prevActiveStep","handleBack","handleReset","onSubmit","questionaryQuestions","forEach","question","questionaryAnswerOptions","option","selectableAnswerId","Number","body","JSON","stringify","window","location","getAllRoute","label","length","App","shouldUnregister","defaultValues","register","Log","a","renderReact","undefined","ReactDOM","render","document","getElementById"],"mappings":"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H,IAASU,oBAAhC,CAA1B;;AAEA,UAAQtC,IAAR;AACI,SAAK,CAAL;AACI,0BAAO,oBAAC,SAAD;AACH,QAAA,cAAc,EAAEI,cADb;AAEH,QAAA,kBAAkB,EAAED,WAFjB;AAGH,QAAA,sBAAsB,EAAEE;AAHrB,QAAP;;AAKJ,SAAK,CAAL;AACI,0BAAO,oBAAC,UAAD;AACH,QAAA,IAAI,EAAEJ,IADH;AAEH,QAAA,aAAa,EAAEE,WAFZ;AAGH,QAAA,iBAAiB,EAAEqC;AAHhB,QAAP;;AAKJ,SAAK,CAAL;AACI,0BAAO,oBAAC,SAAD;AACH,QAAA,IAAI,EAAEvC,IADH;AAEH,QAAA,sBAAsB,EAAEM,sBAFrB;AAGH,QAAA,0BAA0B,EAAEE,0BAHzB;AAIH,QAAA,iBAAiB,EAAEE;AAJhB,QAAP;;AAMJ;AACI,aAAO,cAAP;AArBR;AAuBH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACA,SAASgC,mCAAT,CAA6CC,KAA7C,EAAoD;AAChD,QAAMC,OAAO,GAAG5D,SAAS,EAAzB;AACA,QAAM,CAAC6D,UAAD,EAAaC,aAAb,IAA8BvE,KAAK,CAACD,QAAN,CAAe,CAAf,CAApC;AACA,QAAMyE,KAAK,GAAGlD,QAAQ,EAAtB;AACA,QAAMG,IAAI,GAAGtB,cAAc,EAA3B;AACA,QAAM;AAACsE,IAAAA;AAAD,MAAiBhD,IAAvB;;AAGA,QAAMiD,UAAU,GAAG,MAAM;AACrB,UAAMC,SAAS,GAAGC,IAAI,IAAI;AACtBnD,MAAAA,IAAI,CAACoD,WAAL;AAEAN,MAAAA,aAAa,CAAEO,cAAD,IAAoBA,cAAc,GAAG,CAAtC,CAAb;AACH,KAJD;;AAKAL,IAAAA,YAAY,CAACE,SAAD,CAAZ;AACH,GAPD;;AASA,QAAMI,UAAU,GAAG,MAAM;AACrB,UAAMJ,SAAS,GAAGC,IAAI,IAAI;AACtBnD,MAAAA,IAAI,CAACoD,WAAL;AAEAN,MAAAA,aAAa,CAAEO,cAAD,IAAoBA,cAAc,GAAG,CAAtC,CAAb;AACH,KAJD;;AAKAL,IAAAA,YAAY,CAACE,SAAD,CAAZ;AAEH,GARD;;AAUA,QAAMK,WAAW,GAAG,MAAM;AACtBT,IAAAA,aAAa,CAAC,CAAD,CAAb;AACH,GAFD;;AAGA,QAAMU,QAAQ,GAAG,MAAML,IAAN,IAAc;AAC3B;AACArE,IAAAA,OAAO,CAACC,GAAR,CAAYoE,IAAZ;AACAA,IAAAA,IAAI,CAACM,oBAAL,CAA0BC,OAA1B,CAAkCC,QAAQ,IAAIA,QAAQ,CAACC,wBAAT,CAAkCF,OAAlC,CAA0CG,MAAM,IAAIA,MAAM,CAACC,kBAAP,GAA4BC,MAAM,CAACF,MAAM,CAACC,kBAAR,CAAtF,CAA9C;AAEA,UAAMhD,QAAQ,GAAG,MAAMC,KAAK,CAAC,qBAAD,EAAwB;AAChDC,MAAAA,MAAM,EAAE2B,KAAK,CAAC1C,WAAN,GAAoB,KAApB,GAA4B,MADY;AAEhDgB,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAFuC;AAGhDC,MAAAA,WAAW,EAAE,SAHmC;AAIhD8C,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAef,IAAf;AAJ0C,KAAxB,CAA5B;;AAOA,QAAIrC,QAAQ,CAACK,EAAb,EAAiB;AACbgD,MAAAA,MAAM,CAACC,QAAP,GAAkBzB,KAAK,CAAC0B,WAAxB;AACH;AAEJ,GAhBD;;AAkBA,sBACI;AAAK,IAAA,SAAS,EAAEzB,OAAO,CAAC1D;AAAxB,kBACI,oBAAC,OAAD;AAAS,IAAA,UAAU,EAAE2D,UAArB;AAAiC,IAAA,gBAAgB;AAAjD,KACKE,KAAK,CAACtB,GAAN,CAAW6C,KAAD,iBACP,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAEA;AAAX,kBACI,oBAAC,SAAD,QAAYA,KAAZ,CADJ,CADH,CADL,CADJ,eAQI,iCACKzB,UAAU,KAAKE,KAAK,CAACwB,MAArB,gBACG,8CACI,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAE3B,OAAO,CAAClD;AAA/B,2BADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE6D;AAAjB,aAFJ,CADH,gBAMG,8CACI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAEX,OAAO,CAAClD;AADvB,KACsCI,cAAc,CAAC+C,UAAD,EAAa7C,IAAb,EAAmB2C,KAAK,CAAC1C,WAAzB,CADpD,CADJ,eAGI,8CACI,oBAAC,MAAD;AACI,IAAA,QAAQ,EAAE4C,UAAU,KAAK,CAD7B;AAEI,IAAA,OAAO,EAAES,UAFb;AAGI,IAAA,SAAS,EAAEV,OAAO,CAACrD,UAHvB;AAII,IAAA,OAAO,EAAC;AAJZ,sCADJ,EASKsD,UAAU,KAAKE,KAAK,CAACwB,MAAN,GAAe,CAA9B,gBACG,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEvB,YAAY,CAACQ,QAAD,CAA7B;AAAyC,IAAA,OAAO,EAAC,WAAjD;AAA6D,IAAA,KAAK,EAAC;AAAnE,8DADH,gBAIG,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,KAAK,EAAC,SAAlC;AAA4C,IAAA,OAAO,EAAEP;AAArD,4CAbR,CAHJ,CAPR,CARJ,CADJ;AAyCH;;AAED,SAASuB,GAAT,CAAa7B,KAAb,EAAgE;AAE5D7D,EAAAA,OAAO,CAACC,GAAR,CAAY4D,KAAK,CAAC1C,WAAlB;AAEA,QAAMD,IAAI,GAAGxB,OAAO,CAAC;AAACiG,IAAAA,gBAAgB,EAAE,KAAnB;AAA0BC,IAAAA,aAAa,EAAE/B,KAAK,CAAC1C;AAA/C,GAAD,CAApB;AACA,QAAM;AAAC0E,IAAAA,QAAD;AAAW3B,IAAAA;AAAX,MAA2BhD,IAAjC;AAGA,sBACI,8CACI;AAAM,IAAA,YAAY,EAAC;AAAnB,kBACI,oBAAC,YAAD,EAAkBA,IAAlB,eACI,oBAAC,mCAAD;AACI,IAAA,WAAW,EAAE2C,KAAK,CAAC1C,WADvB;AAEI,IAAA,WAAW,EAAE0C,KAAK,CAAC0B;AAFvB,IADJ,CADJ,CADJ,eASI,oBAAC,gBAAD;AAAkB,IAAA,WAAW,EAAE1B,KAAK,CAAC0B;AAArC,IATJ,CADJ;AAaH;;AACD,MAAMO,GAAG,GAAIC,CAAD,IAAO;AACf/F,EAAAA,OAAO,CAACC,GAAR,CAAY8F,CAAZ;AACA,SAAOA,CAAP;AACH,CAHD;;AAIA,MAAMC,WAAW,GAAG,CAACT,WAAD,EAAsBpE,WAAW,GAAG8E,SAApC,KAAkDC,QAAQ,CAACC,MAAT,eAAgB,oBAAC,GAAD;AAAK,EAAA,WAAW,EAAEZ,WAAlB;AACK,EAAA,WAAW,EAAEpE;AADlB,EAAhB,EACkDiF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CADlD,CAAtE","sourcesContent":["﻿declare const MaterialUI;\r\ndeclare const ReactBeautifulDnd;\r\ndeclare const ReactHookForm;\r\ndeclare const yup;\r\n\r\n\r\nconst {\r\n    colors,\r\n    CssBaseline,\r\n    ThemeProvider,\r\n    Typography,\r\n    Container,\r\n    makeStyles,\r\n    createMuiTheme,\r\n    Box,\r\n    SvgIcon,\r\n    Link,\r\n    Stepper,\r\n    Step,\r\n    StepButton,\r\n    Button,\r\n    InputLabel,\r\n    FormControl,\r\n    FormHelperText,\r\n    Select,\r\n    MenuItem,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    TextField,\r\n    Input,\r\n    Chip,\r\n    Checkbox,\r\n    ListItemText,\r\n    ListSubheader,\r\n    DialogActions,\r\n    Card,\r\n    CardContent,\r\n    CardActions,\r\n    FormControlLabel,\r\n    Icon,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    IconButton,\r\n    ListItemSecondaryAction,\r\n    RootRef,\r\n    Switch,\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Theme,\r\n    createStyles,\r\n    FormGroup,\r\n    Slide,\r\n    StepLabel,\r\n    Collapse,\r\n    Snackbar\r\n} = MaterialUI;\r\n\r\nconst {DragDropContext, Draggable, Droppable} = ReactBeautifulDnd;\r\nconst {useState} = React;\r\nconst {useForm, Controller, useFormContext, FormProvider, useFieldArray} = ReactHookForm;\r\n\r\n\r\nconsole.log(useFormContext);\r\nconsole.log(FormProvider);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '95%',\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    completed: {\r\n        display: 'inline-block',\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nfunction getSteps() {\r\n    return ['Выбор типа объекта', 'Выбор объекта', 'Создание анкеты'];\r\n}\r\n\r\nfunction getStepContent(step: number, form: any, questionary: any) {\r\n    const [objectTypes, setObjectTypes] = React.useState<SelectOption[]>([]);\r\n    const [companies, setCompanies] = React.useState<SelectOption[]>([]);\r\n    const [selectableAnswersLists, setSelectableAnswersLists] = React.useState<SelectOption[]>([]);\r\n    const [questionaryInputFieldTypes, setQuestionaryInputFieldTypes] = React.useState<QuestionaryInputFieldTypes[]>([]);\r\n    const [selectableAnswers, setSelectableAnswers] = React.useState<SelectOption[]>([]);\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n\r\n            const getSelectOptions = async () => {\r\n                if (questionary)\r\n                    return questionary;\r\n\r\n                const response = await fetch(\"/api/QuestionaryApi\", {\r\n                    method: \"Get\",\r\n                    headers: {\"Accept\": \"application/json\"},\r\n                    credentials: \"include\"\r\n                });\r\n\r\n                if (response.ok) {\r\n                    return await response.json();\r\n                }\r\n            }\r\n\r\n            const selectOptions = await getSelectOptions();\r\n\r\n            if(!selectOptions){\r\n                //todo show a popup with error\r\n                return;\r\n            }\r\n            \r\n            let objTypes: SelectOption[] = selectOptions.questionaryObjectTypes;\r\n            setObjectTypes(objTypes);\r\n\r\n            let companies: SelectOption[] = selectOptions.applicationCompanies.map(company => ({\r\n                id: company.companyId,\r\n                name: company.companyName\r\n            }));\r\n            setCompanies(companies);\r\n\r\n            let answersList: SelectOption[] = selectOptions.selectableAnswersLists;\r\n            setSelectableAnswersLists(answersList);\r\n\r\n            let inputFieldTypes: QuestionaryInputFieldTypes[] = selectOptions.questionaryInputFieldTypes;\r\n            setQuestionaryInputFieldTypes(inputFieldTypes);\r\n\r\n            let answers: SelectableAnswers[] = selectOptions.selectableAnswers.map(answer => ({\r\n                name: answer.answerText,\r\n                id: answer.id,\r\n                selectableAnswersListId: answer.selectableAnswersListId\r\n            }));\r\n\r\n            setSelectableAnswers(answers);\r\n            \r\n        })()\r\n    }, []);\r\n\r\n    const selectedObjectTypeId = form.watch('objectTypeId');\r\n    const selectedObjectype = objectTypes.find(ot => ot.id == selectedObjectTypeId)\r\n\r\n    switch (step) {\r\n        case 0:\r\n            return <FirstStep\r\n                setObjectTypes={setObjectTypes}\r\n                selectOptionsTypes={objectTypes}\r\n                selectOptionsСompanies={companies}\r\n            />;\r\n        case 1:\r\n            return <SecondStep\r\n                form={form}\r\n                selectOptions={objectTypes}\r\n                selectedObjectype={selectedObjectype}\r\n            />;\r\n        case 2:\r\n            return <ThirdStep\r\n                form={form}\r\n                selectableAnswersLists={selectableAnswersLists}\r\n                questionaryInputFieldTypes={questionaryInputFieldTypes}\r\n                selectableAnswers={selectableAnswers}\r\n            />;\r\n        default:\r\n            return 'Unknown step';\r\n    }\r\n}\r\n\r\n// function HorizontalNonLinearStepper() {\r\n//     const classes = useStyles();\r\n//     const [activeStep, setActiveStep] = useState(0);\r\n//     const [completed, setCompleted] = useState({});\r\n//     const steps = getSteps();\r\n//\r\n//     const totalSteps = () => {\r\n//         return steps.length;\r\n//     };\r\n//\r\n//     const completedSteps = () => {\r\n//         return Object.keys(completed).length;\r\n//     };\r\n//\r\n//     const isLastStep = () => {\r\n//         return activeStep === totalSteps() - 1;\r\n//     };\r\n//\r\n//     const allStepsCompleted = () => {\r\n//         return completedSteps() === totalSteps();\r\n//     };\r\n//\r\n//     const handleNext = () => {\r\n//         const newActiveStep =\r\n//             isLastStep() && !allStepsCompleted()\r\n//                 ? // It's the last step, but not all steps have been completed,\r\n//                   // find the first step that has been completed\r\n//                 steps.findIndex((step, i) => !(i in completed))\r\n//                 : activeStep + 1;\r\n//         setActiveStep(newActiveStep);\r\n//     };\r\n//\r\n//     const handleBack = () => {\r\n//         setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n//     };\r\n//\r\n//     const handleStep = (step) => () => {\r\n//         setActiveStep(step);\r\n//     };\r\n//\r\n//     const handleComplete = () => {\r\n//         const newCompleted = completed;\r\n//         newCompleted[activeStep] = true;\r\n//         setCompleted(newCompleted);\r\n//         handleNext();\r\n//     };\r\n//\r\n//     const handleReset = () => {\r\n//         setActiveStep(0);\r\n//         setCompleted({});\r\n//     };\r\n//\r\n//     return (\r\n//         <div className={classes.root}>\r\n//             <Stepper nonLinear activeStep={activeStep}>\r\n//                 {steps.map((label, index) => (\r\n//                     <Step key={label}>\r\n//                         <StepButton onClick={handleStep(index)} completed={completed[index]}>\r\n//                             {label}\r\n//                         </StepButton>\r\n//                     </Step>\r\n//                 ))}\r\n//             </Stepper>\r\n//             <div>\r\n//                 {allStepsCompleted() ? (\r\n//                     <div>\r\n//                         <Typography className={classes.instructions}>\r\n//                             All steps completed - you&apos;re finished\r\n//                         </Typography>\r\n//                         <Button onClick={handleReset}>Reset</Button>\r\n//                     </div>\r\n//                 ) : (\r\n//                     <div>\r\n//                         <Typography className={classes.instructions}>{getStepContent(activeStep)}</Typography>\r\n//                         <div>\r\n//                             <Button disabled={activeStep === 0} onClick={handleBack} className={classes.button} variant=\"contained\">\r\n//                                 Назад\r\n//                             </Button>\r\n//                             <Button\r\n//                                 variant=\"contained\"\r\n//                                 color=\"primary\"\r\n//                                 onClick={handleNext}\r\n//                                 className={classes.button}\r\n//                             >\r\n//                                 Вперед\r\n//                             </Button>\r\n//                             {activeStep !== steps.length &&\r\n//                             (completed[activeStep] ? (\r\n//                                 <Typography variant=\"caption\" className={classes.completed}>\r\n//                                     Шаг {activeStep + 1} уже выполнен\r\n//                                 </Typography>\r\n//                             ) : (\r\n//                                 <Button variant=\"contained\" color=\"primary\" onClick={handleComplete}>\r\n//                                     {completedSteps() === totalSteps() - 1 ? 'Завершить' : 'Выполнить шаг'}\r\n//                                 </Button>\r\n//                             ))}\r\n//                         </div>\r\n//                     </div>\r\n//                 )}\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n//альтернативный степер без возможности свободного перехода по вкладкам с работой валидации\r\nfunction HorizontalLabelPositionBelowStepper(props) {\r\n    const classes = useStyles();\r\n    const [activeStep, setActiveStep] = React.useState(0);\r\n    const steps = getSteps();\r\n    const form = useFormContext();\r\n    const {handleSubmit} = form;\r\n\r\n\r\n    const handleNext = () => {\r\n        const onSuccess = data => {\r\n            form.clearErrors();\r\n\r\n            setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n        }\r\n        handleSubmit(onSuccess)();\r\n    };\r\n\r\n    const handleBack = () => {\r\n        const onSuccess = data => {\r\n            form.clearErrors();\r\n\r\n            setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n        }\r\n        handleSubmit(onSuccess)();\r\n        \r\n    };\r\n\r\n    const handleReset = () => {\r\n        setActiveStep(0);\r\n    };\r\n    const onSubmit = async data => {\r\n        //edit mode change endpoint\r\n        console.log(data);\r\n        data.questionaryQuestions.forEach(question => question.questionaryAnswerOptions.forEach(option => option.selectableAnswerId = Number(option.selectableAnswerId)));\r\n\r\n        const response = await fetch(\"/api/QuestionaryApi\", {\r\n            method: props.questionary ? \"PUT\" : \"POST\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            credentials: \"include\",\r\n            body: JSON.stringify(data)\r\n        })\r\n\r\n        if (response.ok) {\r\n            window.location = props.getAllRoute;\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Stepper activeStep={activeStep} alternativeLabel>\r\n                {steps.map((label) => (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                ))}\r\n            </Stepper>\r\n            <div>\r\n                {activeStep === steps.length ? (\r\n                    <div>\r\n                        <Typography className={classes.instructions}>All steps completed</Typography>\r\n                        <Button onClick={handleReset}>Reset</Button>\r\n                    </div>\r\n                ) : (\r\n                    <div>\r\n                        <Typography\r\n                            className={classes.instructions}>{getStepContent(activeStep, form, props.questionary)}</Typography>\r\n                        <div>\r\n                            <Button\r\n                                disabled={activeStep === 0}\r\n                                onClick={handleBack}\r\n                                className={classes.backButton}\r\n                                variant=\"contained\"\r\n                            >\r\n                                Назад\r\n                            </Button>\r\n                            {activeStep === steps.length - 1 ?\r\n                                <Button onClick={handleSubmit(onSubmit)} variant=\"contained\" color=\"primary\">\r\n                                    Сохранить\r\n                                </Button> :\r\n                                <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\r\n                                    Вперед\r\n                                </Button>}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction App(props: { questionary?: any, getAllRoute: string }) {\r\n\r\n    console.log(props.questionary);\r\n\r\n    const form = useForm({shouldUnregister: false, defaultValues: props.questionary});\r\n    const {register, handleSubmit} = form;\r\n\r\n\r\n    return (\r\n        <div>\r\n            <form autoComplete=\"off\">\r\n                <FormProvider {...form}>\r\n                    <HorizontalLabelPositionBelowStepper \r\n                        questionary={props.questionary}\r\n                        getAllRoute={props.getAllRoute}\r\n                    />\r\n                </FormProvider>\r\n            </form>\r\n            <CloseAlertDialog getAllRoute={props.getAllRoute}/>\r\n        </div>\r\n    );\r\n}\r\nconst Log = (a) => {\r\n    console.log(a);\r\n    return a;\r\n}\r\nconst renderReact = (getAllRoute: string, questionary = undefined) => ReactDOM.render(<App getAllRoute={getAllRoute}\r\n                                                                                           questionary={questionary}/>, document.getElementById('reactRoot'));"],"file":"App.js"}