@using Admin.Panel.Core.Entities.Questionary
@model Admin.Panel.Core.Entities.Questionary.QuestionaryObjectType

@{
    ViewData["Title"] = "Редактирование типа объекта";
}

<h2>@ViewBag.Title</h2>

<form asp-route-returnUrl="@ViewData["ReturnUrl"]" method="post" asp-antiforgery="true">
    <hr />
    <div asp-validation-summary="All" class="text-danger"></div>
    <input type="hidden" name="Id" value="@Model.Id" />
    <div class="form-group">
        <div class="col-md-10">
            <label asp-for="Name"></label>
            <input asp-for="Name" class="form-control" />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
    </div>
     <div class="form-group">
             <div class="col-md-10">
@*                 @foreach (var prop in Model.SelectedObjectProperties) *@
@*                 { *@
@*                     <div class="card-body"> *@
@*                         $1$ TODO удаление проперти без сохранения как сделать  #1# *@
@*                         <a asp-controller="" asp-action="Delete" asp-route-Id="@prop.Id" class="badge badge-pill badge-danger" data-toggle="tooltip" title="Удалить">-</a> *@
@*                         <h7 class="card-title">@prop.Name</h7> *@
@*                     </div> *@
@*                 } *@
             </div>
         </div>
     <div class="form-group">
         <div class="col-md-10">

             <select class="selectpicker" asp-for="SelectedPropertiesId"
                     asp-items="Model.ObjectProperties.Select(property => new SelectListItem(property.Name, property.Id.ToString(), Model.SelectedObjectProperties.Select(selectedProperty => selectedProperty.Id).Contains(property.Id)))"
                     multiple>
             </select>
         </div>
     </div>
    <button type="submit" class="btn btn-default">Сохранить</button>
</form>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}